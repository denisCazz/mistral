---
import MainLayout from '../layouts/MainLayout.astro';

type Progetto = {
  titolo: string;
  cliente: string;
  tipologie: string[];
  descrizione: string;
  immagine: string;
};

const progetti: Progetto[] = [
  {
    titolo: "Casa di Cura Città di Bra",
    cliente: "Casa di Cura Città di Bra",
    tipologie: [
      "Impianti antincendio",
      "Sale operatorie",
      "Impianti elettrici",
      "Fibra ottica"
    ],
    descrizione: "Installazione e manutenzione di impianti specializzati per strutture sanitarie.",
    immagine: "/bra.jpg"
  },
  {
    titolo: "Siemens",
    cliente: "Siemens",
    tipologie: [
      "Manutenzione",
      "BMS",
      "TVCC",
      "Antintrusione",
      "Impianti antincendio"
    ],
    descrizione: "Collaborazione con Siemens per l'implementazione di soluzioni tecnologiche avanzate.",
    immagine: "/siemens.jpg"
  },
  {
    titolo: "Amazon",
    cliente: "Amazon",
    tipologie: [
      "Poli logistici in tutta Italia",
      "Impianti antincendio",
      "BMS",
      "Collaudi"
    ],
    descrizione: "Installazione di sistemi complessi per centri logistici in tutta Italia.",
    immagine: "/Amazon.png"
  },
  {
    titolo: "Abet",
    cliente: "Abet",
    tipologie: [
      "Impianti rivelazione fumi",
      "Impianti rivelazione gas",
      "Impianti di evacuazione"
    ],
    descrizione: "Sistemi di sicurezza e rilevazione per ambienti industriali.",
    immagine: "/abet.png"
  },
  {
    titolo: "Rivoli",
    cliente: "Rivoli",
    tipologie: [
      "Impianti antincendio",
      "EVAC"
    ],
    descrizione: "Sistemi di sicurezza e evacuazione per edifici pubblici.",
    immagine: "/rivoli.jpg"
  },
  {
    titolo: "Profilmec",
    cliente: "Profilmec",
    tipologie: [
      "Impianti rivelazione fumi",
      "Impianti rivelazione gas",
      "Impianti di evacuazione"
    ],
    descrizione: "Installazione di sistemi di sicurezza per impianti industriali.",
    immagine: "/profilmec.jpg"
  },
  {
    titolo: "Nedap",
    cliente: "Nedap",
    tipologie: [
      "Impianti antitaccheggio"
    ],
    descrizione: "Soluzioni antitaccheggio per il settore retail.",
    immagine: "/nedap.jpg"
  },
  {
    titolo: "Riva",
    cliente: "Riva",
    tipologie: [
      "Impianti antincendio"
    ],
    descrizione: "Installazione e manutenzione di impianti antincendio.",
    immagine: "/riva.jpg"
  },
  {
    titolo: "Qmatic",
    cliente: "Qmatic",
    tipologie: [
      "Impianti eliminacode"
    ],
    descrizione: "Sistemi di gestione code per uffici pubblici e privati.",
    immagine: "/qmatic.jpg"
  },
  {
    titolo: "RS Service Srl",
    cliente: "RS Service Srl",
    tipologie: [],
    descrizione: "",
    immagine: "/rsservice.png"
  },
  {
    titolo: "ACI Progei",
    cliente: "ACI Progei",
    tipologie: [],
    descrizione: "",
    immagine: "/aci.jpg"
  },
  {
    titolo: "Juventus",
    cliente: "Juventus",
    tipologie: [],
    descrizione: "",
    immagine: "/juve.jpg"
  },
  {
    titolo: "Sinelec",
    cliente: "Sinelec",
    tipologie: [],
    descrizione: "",
    immagine: "/sinelec.png"
  },
  {
    titolo: "Casa di Cura Sant'Anna",
    cliente: "Casa di Cura Sant'Anna",
    tipologie: [],
    descrizione: "",
    immagine: "/santanna.jpg"
  },
  {
    titolo: "Eviso",
    cliente: "Eviso",
    tipologie: [],
    descrizione: "",
    immagine: "/eviso.png"
  },
  {
    titolo: "Iris IT",
    cliente: "Iris IT",
    tipologie: [],
    descrizione: "",
    immagine: "/iris.jpg"
  },
  {
    titolo: "Inalpi Arena",
    cliente: "Inalpi Arena",
    tipologie: [],
    descrizione: "",
    immagine: "/inalpi.png"
  },
  {
    titolo: "Palavela",
    cliente: "Palavela",
    tipologie: [],
    descrizione: "",
    immagine: "/palavela.png"
  },
  {
    titolo: "Diageo",
    cliente: "Diageo",
    tipologie: [],
    descrizione: "",
    immagine: "/diageo.svg"
  },
  {
    titolo: "Riva",
    cliente: "Riva",
    tipologie: [],
    descrizione: "",
    immagine: "/riva.jpg"
  },
  {
    titolo: "Abet Laminati",
    cliente: "Abet Laminati",
    tipologie: [],
    descrizione: "",
    immagine: "/abet.jpg"
  },
  {
    titolo: "Mondovicino",
    cliente: "Mondovicino",
    tipologie: [],
    descrizione: "",
    immagine: "/mondovicino.png"
  },
  {
    titolo: "Le Terrazze",
    cliente: "Le Terrazze",
    tipologie: [],
    descrizione: "",
    immagine: "/leterrazze.png"
  },
  {
    titolo: "Stellantis",
    cliente: "Stellantis",
    tipologie: [],
    descrizione: "",
    immagine: "/stellantis.jpg"
  },
  {
    titolo: "Bitron",
    cliente: "Bitron",
    tipologie: [],
    descrizione: "",
    immagine: "/bitron.jpg"
  },
  {
    titolo: "Levosil",
    cliente: "Levosil",
    tipologie: [],
    descrizione: "",
    immagine: "/levosil.png"
  },
  {
    titolo: "Geodis",
    cliente: "Geodis",
    tipologie: [],
    descrizione: "",
    immagine: "/geodis.svg"
  },
  {
    titolo: "Lavazza",
    cliente: "Lavazza",
    tipologie: [],
    descrizione: "",
    immagine: "/lavazza.jpg"
  },
  {
    titolo: "Bulgari",
    cliente: "Bulgari",
    tipologie: [],
    descrizione: "",
    immagine: "/bulgari.jpg"
  },
  {
    titolo: "Starhotels",
    cliente: "Starhotels",
    tipologie: [],
    descrizione: "",
    immagine: "/starhotels.svg"
  },
  {
    titolo: "Luxottica",
    cliente: "Luxottica",
    tipologie: [],
    descrizione: "",
    immagine: "/luxottica.jpg"
  },
  {
    titolo: "Seven (7even)",
    cliente: "Seven (7even)",
    tipologie: [],
    descrizione: "",
    immagine: "/seven.png"
  },
  {
    titolo: "IVECO",
    cliente: "IVECO",
    tipologie: [],
    descrizione: "",
    immagine: "/iveco.svg"
  },
  {
    titolo: "Italdesign",
    cliente: "Italdesign",
    tipologie: [],
    descrizione: "",
    immagine: "/Italdesign.jpg"
  },
  {
    titolo: "Ferrero",
    cliente: "Ferrero",
    tipologie: [],
    descrizione: "",
    immagine: "/ferrero.png"
  },
  {
    titolo: "Conad",
    cliente: "Conad",
    tipologie: [],
    descrizione: "",
    immagine: "/Conad.png"
  },
  {
    titolo: "Esselunga",
    cliente: "Esselunga",
    tipologie: [],
    descrizione: "",
    immagine: "/esselunga.png"
  },
  {
    titolo: "Cogne",
    cliente: "Cogne",
    tipologie: [],
    descrizione: "",
    immagine: "/cogne.png"
  },
  {
    titolo: "Vetropack",
    cliente: "Vetropack",
    tipologie: [],
    descrizione: "",
    immagine: "/vetropack.png"
  },
  {
    titolo: "DentalPro",
    cliente: "DentalPro",
    tipologie: [],
    descrizione: "",
    immagine: "/dentalpro.png"
  },
  {
    titolo: "Istituto di Candiolo",
    cliente: "Istituto di Candiolo",
    tipologie: [],
    descrizione: "",
    immagine: "/candiolo.jpg"
  },
  {
    titolo: "Caffarel",
    cliente: "Caffarel",
    tipologie: [],
    descrizione: "",
    immagine: "/Caffarel.png"
  },
  {
    titolo: "Leroy Merlin",
    cliente: "Leroy Merlin",
    tipologie: [],
    descrizione: "",
    immagine: "/leroyMerlin.png"
  },
  {
    titolo: "Castello di Rivoli",
    cliente: "Castello di Rivoli",
    tipologie: [],
    descrizione: "",
    immagine: "/castellorivoli.jpg"
  },
  {
    titolo: "Carrefour",
    cliente: "Carrefour",
    tipologie: [],
    descrizione: "",
    immagine: "/carrefour.jpg"
  },
  {
    titolo: "Università di Torino",
    cliente: "Università di Torino",
    tipologie: [],
    descrizione: "",
    immagine: "/unito.png"
  },
  {
    titolo: "Carglass",
    cliente: "Carglass",
    tipologie: [],
    descrizione: "",
    immagine: "/carglass.jpg"
  },
  {
    titolo: "RAI",
    cliente: "RAI",
    tipologie: [],
    descrizione: "",
    immagine: "/rai.jpg"
  },
  {
    titolo: "Gaja",
    cliente: "Gaja",
    tipologie: [],
    descrizione: "",
    immagine: "/gaja.jpg"
  },
  {
    titolo: "Fontanafredda",
    cliente: "Fontanafredda",
    tipologie: [],
    descrizione: "",
    immagine: "/fontanafredda.png"
  },
  {
    titolo: "Teatro Regio",
    cliente: "Teatro Regio",
    tipologie: [],
    descrizione: "",
    immagine: "/teatroregio.png"
  }
];
---

<MainLayout 
  title="I nostri lavori | Mistral Impianti" 
  description="Portfolio progetti Mistral Impianti: installazioni di impianti tecnologici, antincendio, BMS e soluzioni speciali per clienti nazionali e internazionali."
>
  <main class="px-4 pb-16" aria-label="Portfolio lavori">
  <section class="relative mx-auto mt-32 max-w-6xl overflow-hidden rounded-[2.5rem] border border-black/10 bg-black text-white" data-animate="fade-up">
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.12),_transparent_60%)]"></div>
      <div class="relative grid gap-8 px-8 py-16 md:grid-cols-[1.1fr_0.9fr] md:px-16">
        <div class="space-y-4">
          <p class="text-xs uppercase tracking-[0.3em] text-white/60">Portfolio</p>
          <h1 class="text-4xl font-semibold leading-tight">Progetti realizzati con passione e competenza tecnica.</h1>
          <p class="text-sm text-white/70">Installazioni per clienti nazionali e internazionali: dalla progettazione alla manutenzione programmata, ogni intervento segue standard qualitativi elevati.</p>
        </div>
        <div class="flex items-end">
          <div class="rounded-2xl border border-white/15 bg-white/5 p-6 text-sm text-white/70">
            <p class="font-semibold text-white">Oltre 30 anni di esperienza</p>
            <p class="mt-3">Collaborazioni con aziende leader nei settori industriale, sanitario, logistico e commerciale.</p>
          </div>
        </div>
      </div>
    </section>

  <section class="mx-auto mt-16 max-w-6xl space-y-8" data-animate="fade-up">
      <div class="flex justify-center">
        <button
          id="toggle-progetti-btn"
          class="inline-flex items-center gap-3 rounded-full border-2 border-black bg-white px-6 py-3 text-sm font-semibold text-black transition-all hover:bg-black hover:text-white"
        >
          <span id="toggle-text">Nascondi tutti i progetti</span>
          <svg id="toggle-icon" class="h-5 w-5 transition-transform" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
          </svg>
        </button>
      </div>

      <div id="progetti-grid" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        {progetti.map((progetto) => (
          <article class="group rounded-[2rem] border border-black/10 bg-white shadow-[0_40px_80px_-60px_rgba(0,0,0,0.65)] transition-all hover:shadow-[0_40px_80px_-50px_rgba(0,0,0,0.85)]">
            <div class="flex h-40 items-center justify-center border-b border-black/5 bg-white p-6">
              <img 
                src={progetto.immagine} 
                alt={`Logo ${progetto.cliente}`} 
                class="h-full w-full object-contain transition-transform group-hover:scale-105"
              />
            </div>
            <div class="p-6 space-y-3">
              <h2 class="text-xl font-semibold text-black">{progetto.titolo}</h2>
              <p class="text-xs uppercase tracking-[0.2em] text-zinc-500">Cliente: {progetto.cliente}</p>
              {progetto.descrizione && (
                <p class="text-sm text-zinc-700">{progetto.descrizione}</p>
              )}
              {progetto.tipologie && progetto.tipologie.length > 0 && (
                <div class="pt-2">
                  <p class="mb-2 text-xs font-semibold uppercase tracking-[0.2em] text-zinc-500">Tipologie</p>
                  <div class="flex flex-wrap gap-2">
                    {progetto.tipologie.map((tipo) => (
                      <span class="inline-block rounded-full border border-black/10 bg-black/5 px-3 py-1 text-xs font-medium text-black">
                        {tipo}
                      </span>
                    ))}
                  </div>
                </div>
              )}
            </div>
          </article>
        ))}
      </div>
    </section>

  <section class="mx-auto mt-16 max-w-6xl rounded-[2.5rem] border border-black/10 bg-white p-8 shadow-[0_40px_80px_-60px_rgba(0,0,0,0.65)] md:p-12" data-animate="fade-up">
      <div class="mb-10 flex flex-col items-start gap-6 md:flex-row md:items-center md:justify-between">
        <div class="flex items-center gap-4">
          <div>
            <h2 class="text-3xl font-semibold text-black">Mistral Counter</h2>
            <p class="mt-2 text-sm text-zinc-600">Innovazione e tecnologia per valorizzare gli spazi</p>
          </div>
        </div>
      </div>

      <div class="grid gap-10 md:grid-cols-2">
        <div class="space-y-6">
          <p class="text-base text-zinc-700">
            Il Mistral Counter rappresenta la nostra soluzione all'avanguardia per il monitoraggio e la gestione intelligente degli impianti. Scopri come questa tecnologia può ottimizzare i consumi e migliorare l'efficienza energetica.
          </p>
          
          <div class="space-y-3 text-sm text-zinc-700">
            <div class="flex items-start gap-3">
              <svg class="mt-0.5 h-5 w-5 flex-shrink-0 text-black" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Monitoraggio in tempo reale dei consumi</span>
            </div>
            <div class="flex items-start gap-3">
              <svg class="mt-0.5 h-5 w-5 flex-shrink-0 text-black" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Analisi intelligente dei dati energetici</span>
            </div>
            <div class="flex items-start gap-3">
              <svg class="mt-0.5 h-5 w-5 flex-shrink-0 text-black" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Ottimizzazione automatica dei parametri</span>
            </div>
            <div class="flex items-start gap-3">
              <svg class="mt-0.5 h-5 w-5 flex-shrink-0 text-black" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Interfaccia semplice e intuitiva</span>
            </div>
          </div>

          <div class="mt-8 space-y-3 border-t border-black/10 pt-6 text-sm text-zinc-700">
            <p class="font-semibold text-black">Uno strumento per valorizzare gli spazi</p>
            <div class="flex items-start gap-3">
              <svg class="mt-0.5 h-5 w-5 flex-shrink-0 text-black" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Affitto spazi in base ai dati reali di passaggi/accessi</span>
            </div>
            <div class="flex items-start gap-3">
              <svg class="mt-0.5 h-5 w-5 flex-shrink-0 text-black" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Canoni differenziati in base alla posizione nel centro commerciale</span>
            </div>
            <div class="flex items-start gap-3">
              <svg class="mt-0.5 h-5 w-5 flex-shrink-0 text-black" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Dati oggettivi per dimostrare visibilità e traffico</span>
            </div>
          </div>
        </div>

        <div class="flex flex-col items-center justify-center gap-4">
          <a 
            href="/pdf/MistralCounter.pdf" 
            title="Scarica la brochure Mistral Counter"
            class="inline-flex w-full max-w-sm items-center justify-center gap-2 rounded-full bg-black px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-black/30 transition hover:bg-black/80"
            download
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
            Scarica la brochure
          </a>
          <a 
            href="/pdf/MistralCounter.pdf" 
            title="Visualizza la brochure Mistral Counter sul browser"
            class="inline-flex w-full max-w-sm items-center justify-center gap-2 rounded-full border border-black/30 px-6 py-3 text-sm font-semibold text-black transition hover:bg-black/5"
            target="_blank"
          >
            Visualizza sul browser
          </a>
        </div>
      </div>
    </section>

  </main>
</MainLayout>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggleBtn = document.getElementById('toggle-progetti-btn');
    const progettiGrid = document.getElementById('progetti-grid');
    const toggleText = document.getElementById('toggle-text');
    const toggleIcon = document.getElementById('toggle-icon');
    
    let isVisible = true;
    
    toggleBtn?.addEventListener('click', () => {
      isVisible = !isVisible;
      
      if (progettiGrid) {
        if (isVisible) {
          progettiGrid.style.display = 'grid';
          if (toggleText) toggleText.textContent = 'Nascondi tutti i progetti';
          if (toggleIcon) toggleIcon.style.transform = 'rotate(0deg)';
        } else {
          progettiGrid.style.display = 'none';
          if (toggleText) toggleText.textContent = 'Mostra tutti i progetti';
          if (toggleIcon) toggleIcon.style.transform = 'rotate(180deg)';
        }
      }
    });
  });
</script>
